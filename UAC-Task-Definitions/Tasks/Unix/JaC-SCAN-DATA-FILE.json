{
    "type": "taskUnix",
    "actions": {
        "abortActions": [],
        "emailNotifications": [],
        "setVariableActions": [
            {
                "description": null,
                "exitCodes": null,
                "notificationOption": "Operation Failure",
                "notifyOnEarlyFinish": false,
                "notifyOnLateFinish": false,
                "notifyOnLateStart": false,
                "notifyOnProjectedLate": false,
                "status": "Failed",
                "sysId": "230d79ad48d741af8252ef76a9b05582",
                "variableName": "failed_task_name",
                "variableScope": "Global",
                "variableValue": "${ops_task_name}"
            },
            {
                "description": null,
                "exitCodes": null,
                "notificationOption": "Operation Failure",
                "notifyOnEarlyFinish": false,
                "notifyOnLateFinish": false,
                "notifyOnLateStart": false,
                "notifyOnProjectedLate": false,
                "status": "Failed",
                "sysId": "ce1a60efba0347168e88fb2574263b29",
                "variableName": "jsd_parent_task_status",
                "variableScope": "Global",
                "variableValue": "${ops_status}"
            },
            {
                "description": "store output of the job",
                "exitCodes": null,
                "notificationOption": "Operation Success/Failure",
                "notifyOnEarlyFinish": false,
                "notifyOnLateFinish": false,
                "notifyOnLateStart": false,
                "notifyOnProjectedLate": false,
                "status": "Failed",
                "sysId": "fcd51dabc7264d6eb580d425f757df50",
                "variableDescription": "store output of the job",
                "variableName": "failed_task_output",
                "variableScope": "Global",
                "variableValue": "${_outputLines('STDOUT', 1, 100, '',' ')}"
            }
        ],
        "snmpNotifications": [
            {
                "description": null,
                "exitCodes": null,
                "notifyOnEarlyFinish": false,
                "notifyOnLateFinish": false,
                "notifyOnLateStart": false,
                "notifyOnProjectedLate": false,
                "severity": "Critical",
                "snmpManager": "Nagios-SNMP-TRAP",
                "status": "Failed",
                "sysId": "8f445509cd0f476ab77387ff34dfe765"
            }
        ],
        "systemOperations": [
            {
                "agent": null,
                "agentCluster": null,
                "agentClusterVar": null,
                "agentVar": null,
                "description": "Twillio - Whatsapp Task Failure Notification",
                "execCommand": "Cancel",
                "execCriteria": "Oldest Active Instance",
                "execId": null,
                "execLookupOption": "Instance Name",
                "execName": null,
                "execWorkflowName": null,
                "execWorkflowNameCond": "Equals",
                "exitCodes": null,
                "limit": null,
                "notificationOption": "Operation Failure",
                "notifyOnEarlyFinish": false,
                "notifyOnLateFinish": false,
                "notifyOnLateStart": false,
                "notifyOnProjectedLate": false,
                "operation": "Launch Task",
                "overrideTriggerDateOffset": null,
                "overrideTriggerDateTime": false,
                "overrideTriggerTime": "00:00",
                "status": "Failed",
                "sysId": "97196677dd4c4b07a4b5139ccb5b0891",
                "task": "KM-Twillio-Whatsapp Failure Notification",
                "taskLimitType": "Unlimited",
                "taskVar": null,
                "trigger": null,
                "triggerVar": null,
                "variables": [
                    {
                        "name": "fail_msg",
                        "value": "*Task Name*:${ops_task_name} *Job status*:${ops_status} *logs*:${failed_task_output}"
                    }
                ],
                "variablesUnresolved": false,
                "vertexSelection": false,
                "vertices": [],
                "virtualResource": null,
                "virtualResourceVar": null
            },
            {
                "agent": null,
                "agentCluster": null,
                "agentClusterVar": null,
                "agentVar": null,
                "description": "Microsoft Teams Task Failure Notification",
                "execCommand": "Cancel",
                "execCriteria": "Oldest Active Instance",
                "execId": null,
                "execLookupOption": "Instance Name",
                "execName": null,
                "execWorkflowName": null,
                "execWorkflowNameCond": "Equals",
                "exitCodes": null,
                "limit": null,
                "notificationOption": "Operation Failure",
                "notifyOnEarlyFinish": false,
                "notifyOnLateFinish": false,
                "notifyOnLateStart": false,
                "notifyOnProjectedLate": false,
                "operation": "Launch Task",
                "overrideTriggerDateOffset": null,
                "overrideTriggerDateTime": false,
                "overrideTriggerTime": "00:00",
                "status": "Failed",
                "sysId": "974e1639609146958851563e6daec1eb",
                "task": "Fail-Notif-Teams",
                "taskLimitType": "Unlimited",
                "taskVar": null,
                "trigger": null,
                "triggerVar": null,
                "variables": [
                    {
                        "name": "task_name",
                        "value": "${ops_task_name}"
                    },
                    {
                        "name": "task_status",
                        "value": "${ops_status}"
                    },
                    {
                        "name": "exec_user",
                        "value": "${ops_execution_user}"
                    },
                    {
                        "name": "job_type",
                        "value": "${ops_task_type}"
                    }
                ],
                "variablesUnresolved": false,
                "vertexSelection": false,
                "vertices": [],
                "virtualResource": null,
                "virtualResourceVar": null
            },
            {
                "agent": null,
                "agentCluster": null,
                "agentClusterVar": null,
                "agentVar": null,
                "description": "JSD Ticket Creation on Task Failure",
                "execCommand": "Cancel",
                "execCriteria": "Oldest Active Instance",
                "execId": null,
                "execLookupOption": "Instance Name",
                "execName": null,
                "execWorkflowName": null,
                "execWorkflowNameCond": "Equals",
                "exitCodes": null,
                "limit": null,
                "notificationOption": "Operation Failure",
                "notifyOnEarlyFinish": false,
                "notifyOnLateFinish": false,
                "notifyOnLateStart": false,
                "notifyOnProjectedLate": false,
                "operation": "Launch Task",
                "overrideTriggerDateOffset": null,
                "overrideTriggerDateTime": false,
                "overrideTriggerTime": "00:00",
                "status": "Failed",
                "sysId": "a67dcab808104493908add996ef56d2b",
                "task": "JSD Request Creation-Demo",
                "taskLimitType": "Unlimited",
                "taskVar": null,
                "trigger": null,
                "triggerVar": null,
                "variables": [
                    {
                        "name": "taskname",
                        "value": "${ops_task_name}"
                    },
                    {
                        "name": "failed_output",
                        "value": "${failed_task_output}"
                    }
                ],
                "variablesUnresolved": false,
                "vertexSelection": false,
                "vertices": [],
                "virtualResource": null,
                "virtualResourceVar": null
            },
            {
                "agent": null,
                "agentCluster": null,
                "agentClusterVar": null,
                "agentVar": null,
                "description": "ServiceNow Incident Creation on Task failure",
                "execCommand": "Cancel",
                "execCriteria": "Oldest Active Instance",
                "execId": null,
                "execLookupOption": "Instance Name",
                "execName": null,
                "execWorkflowName": null,
                "execWorkflowNameCond": "Equals",
                "exitCodes": null,
                "limit": null,
                "notificationOption": "Operation Failure",
                "notifyOnEarlyFinish": false,
                "notifyOnLateFinish": false,
                "notifyOnLateStart": false,
                "notifyOnProjectedLate": false,
                "operation": "Launch Task",
                "overrideTriggerDateOffset": null,
                "overrideTriggerDateTime": false,
                "overrideTriggerTime": "00:00",
                "status": "Failed",
                "sysId": "bf587a98d071458da1536bec832eb4b9",
                "task": "Create SNOW Incident",
                "taskLimitType": "Unlimited",
                "taskVar": null,
                "trigger": null,
                "triggerVar": null,
                "variables": [
                    {
                        "name": "sib_failed_task_name",
                        "value": "${ops_task_name}"
                    },
                    {
                        "name": "sib_task_output",
                        "value": "${failed_task_output}"
                    }
                ],
                "variablesUnresolved": false,
                "vertexSelection": false,
                "vertices": [],
                "virtualResource": null,
                "virtualResourceVar": null
            },
            {
                "agent": null,
                "agentCluster": null,
                "agentClusterVar": null,
                "agentVar": null,
                "description": "Slack Task Failure Notification",
                "execCommand": "Cancel",
                "execCriteria": "Oldest Active Instance",
                "execId": null,
                "execLookupOption": "Instance Name",
                "execName": null,
                "execWorkflowName": null,
                "execWorkflowNameCond": "Equals",
                "exitCodes": null,
                "limit": null,
                "notificationOption": "Operation Failure",
                "notifyOnEarlyFinish": false,
                "notifyOnLateFinish": false,
                "notifyOnLateStart": false,
                "notifyOnProjectedLate": false,
                "operation": "Launch Task",
                "overrideTriggerDateOffset": null,
                "overrideTriggerDateTime": false,
                "overrideTriggerTime": "00:00",
                "status": "Failed",
                "sysId": "f298a400fcf24f4da39907b8cd49b9fa",
                "task": "FAIL-NOTIF-SLACK",
                "taskLimitType": "Unlimited",
                "taskVar": null,
                "trigger": null,
                "triggerVar": null,
                "variables": [
                    {
                        "name": "task_name",
                        "value": "${ops_task_name}"
                    },
                    {
                        "name": "task_status",
                        "value": "${ops_status}"
                    },
                    {
                        "name": "exec_user",
                        "value": "${ops_execution_user}"
                    },
                    {
                        "name": "job_type",
                        "value": "${ops_task_type}"
                    },
                    {
                        "name": "invoked_by",
                        "value": "${ops_workflow_name}"
                    },
                    {
                        "name": "desc",
                        "value": "${ops_description}"
                    }
                ],
                "variablesUnresolved": false,
                "vertexSelection": false,
                "vertices": [],
                "virtualResource": null,
                "virtualResourceVar": null
            }
        ]
    },
    "agent": "Ansible",
    "agentCluster": null,
    "agentClusterVar": null,
    "agentVar": null,
    "broadcastCluster": null,
    "broadcastClusterVar": null,
    "command": null,
    "commandOrScript": "Script",
    "cpDuration": null,
    "cpDurationUnit": "Minutes",
    "credentials": null,
    "credentialsVar": null,
    "customField1": {
        "label": "Custom Field 1",
        "value": null
    },
    "customField2": {
        "label": "Output Link",
        "value": null
    },
    "efDayConstraint": "None",
    "efDuration": "00:00:00:00",
    "efEnabled": false,
    "efNthAmount": 5,
    "efOffsetDuration": null,
    "efOffsetDurationUnit": "Minutes",
    "efOffsetPercentage": 0,
    "efOffsetType": "Percentage",
    "efTime": "00:00",
    "efType": "Time",
    "enforceVariables": false,
    "environment": [],
    "exclusiveTasks": [],
    "exclusiveWithSelf": false,
    "executionRestriction": "None",
    "exitCodeOutput": null,
    "exitCodeProcessing": "Success Exitcode Range",
    "exitCodeText": null,
    "exitCodes": "0",
    "exportReleaseLevel": "7.7.0.0",
    "exportTable": "ops_task_unix",
    "firstRun": "",
    "holdResources": false,
    "lastRun": "",
    "lfDayConstraint": "None",
    "lfDuration": "00:00:00:00",
    "lfEnabled": false,
    "lfNthAmount": 5,
    "lfOffsetDuration": null,
    "lfOffsetDurationUnit": "Minutes",
    "lfOffsetPercentage": 0,
    "lfOffsetType": "Percentage",
    "lfTime": "00:00",
    "lfType": "Time",
    "lockVariables": false,
    "logLevel": "Inherited",
    "lsDayConstraint": "None",
    "lsDuration": "00:00:00:00",
    "lsEnabled": false,
    "lsNthAmount": 5,
    "lsTime": "00:00",
    "lsType": "Time",
    "name": "JaC-SCAN-DATA-FILE",
    "notes": [],
    "opswiseGroups": [
        "KM-Job-as-Code"
    ],
    "outputFailureOnly": false,
    "outputReturnFile": null,
    "outputReturnNline": "100",
    "outputReturnSline": "1",
    "outputReturnText": null,
    "outputReturnType": "OUTERR",
    "outputType": "STDOUT",
    "overrideInstanceWait": "No",
    "parameters": null,
    "resPriority": 10,
    "resolveNameImmediately": false,
    "restrictionPeriod": "None",
    "restrictionPeriodAfterDate": null,
    "restrictionPeriodAfterTime": null,
    "restrictionPeriodBeforeDate": null,
    "restrictionPeriodBeforeTime": null,
    "restrictionPeriodDateList": [],
    "retainSysIds": true,
    "retryExitCodes": null,
    "retryIndefinitely": false,
    "retryInterval": 60,
    "retryMaximum": 0,
    "retrySuppressFailure": false,
    "runAsSudo": false,
    "runCount": 0,
    "runTime": 0,
    "runtimeDir": null,
    "script": "scr_Scan-Data-File",
    "simulation": false,
    "startHeld": false,
    "startHeldReason": null,
    "summary": "setup to fail - showcase  ITSM ticket creation on failure -- Also ChatOps Notification",
    "sysId": "b15d6ca674fa4d6b9dda784541b4f8a6",
    "timeZonePref": "-- System Default --",
    "twDelayAmount": null,
    "twDelayDuration": "00:00:00:00",
    "twDelayType": "None",
    "twWaitAmount": null,
    "twWaitDayConstraint": "None",
    "twWaitDuration": "00:00:00:00",
    "twWaitTime": "00:00",
    "twWaitType": "None",
    "twWorkflowOnly": "-- System Default --",
    "userEstimatedDuration": null,
    "variables": [],
    "version": 17,
    "virtualResources": [],
    "waitForOutput": true
}