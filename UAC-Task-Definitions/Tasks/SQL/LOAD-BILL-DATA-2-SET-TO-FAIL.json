{
    "type": "taskSql",
    "actions": {
        "abortActions": [],
        "emailNotifications": [
            {
                "bcc": null,
                "body": "Hello \n\nSQL Job : ${ops_task_name} triggered by ${ops_workflow_name} is failed .\n\nError Logs :\n\n${ops_sql_error_msg}\n\n\n****Automatic email from Stonebranch Universal Controller *************\n\nRegards,\nBatch operation Team",
                "cc": null,
                "description": null,
                "emailConnection": "email",
                "emailTemplate": null,
                "emailTemplateVar": null,
                "exitCodes": null,
                "listReportFormat": "PDF",
                "notifyOnEarlyFinish": false,
                "notifyOnLateFinish": false,
                "notifyOnLateStart": false,
                "notifyOnProjectedLate": false,
                "replyTo": null,
                "report": null,
                "reportVar": null,
                "status": "Failed",
                "subject": "Stonebranch Alert : Job : ${ops_task_name} Failed",
                "sysId": "0baa82bb0fe6402d9b95f7a194a36b38",
                "to": "ravi.murugesan@stonebranch.com"
            },
            {
                "bcc": null,
                "body": "Hello\n\nJob : ${ops_task_name} Running Late , Below are the details \n\nPlease use the following link to view the task (requires login):\n${UAC_Controller_URL}?action=open&type=exec&id=${ops_task_id}\n\nAlert generated on: ${_date('yyyy-MM-dd')} at ${_date('HH:mm:ss')} in time zone: ${ops_task_time_zone}\n\nTask Type: ${ops_task_type}\n\nTask name: ${ops_task_name}\n\nWorkflow to which the task belongs (if it exists): ${ops_workflow_name}\n\nTop-level parent workflow: ${ops_top_level_workflow_name}\n\nTask Launched at ${ops_launch_time}\n\nRegards,\nStonebranch Team",
                "cc": null,
                "description": null,
                "emailConnection": "email",
                "emailTemplate": null,
                "emailTemplateVar": null,
                "exitCodes": null,
                "listReportFormat": "PDF",
                "notifyOnEarlyFinish": false,
                "notifyOnLateFinish": true,
                "notifyOnLateStart": false,
                "notifyOnProjectedLate": false,
                "replyTo": null,
                "report": null,
                "reportVar": null,
                "status": null,
                "subject": "Job : ${ops_task_name} Running late",
                "sysId": "5a5e9f282cd74ba1a86d5fd697c9be9b",
                "to": "ravi.murugesan@stonebranch.com"
            }
        ],
        "setVariableActions": [
            {
                "description": null,
                "exitCodes": null,
                "notificationOption": "Operation Failure",
                "notifyOnEarlyFinish": false,
                "notifyOnLateFinish": false,
                "notifyOnLateStart": false,
                "notifyOnProjectedLate": false,
                "status": "Defined,\nFailed",
                "sysId": "0c30c0487f814e9f9e746314d11b64a6",
                "variableName": "failed_task_output",
                "variableScope": "Top Level Parent",
                "variableValue": "The last step to run was step 2.step Error:Executed as user: NT SERVICE\\SQLSERVERAGENT. Could not find stored procedure aaaaaaa"
            },
            {
                "description": null,
                "exitCodes": null,
                "notificationOption": "Operation Failure",
                "notifyOnEarlyFinish": false,
                "notifyOnLateFinish": false,
                "notifyOnLateStart": false,
                "notifyOnProjectedLate": false,
                "status": "Failed",
                "sysId": "c5de2b7b001b4d4d9169ac1106cec6a8",
                "variableName": "failed_task_name",
                "variableScope": "Global",
                "variableValue": "${ops_task_name}"
            }
        ],
        "snmpNotifications": [
            {
                "description": null,
                "exitCodes": null,
                "notifyOnEarlyFinish": false,
                "notifyOnLateFinish": false,
                "notifyOnLateStart": false,
                "notifyOnProjectedLate": false,
                "severity": "Critical",
                "snmpManager": "Nagios-SNMP-TRAP",
                "status": "Failed",
                "sysId": "bf35be8711fe4cfd98654410430897c9"
            }
        ],
        "systemOperations": [
            {
                "agent": null,
                "agentCluster": null,
                "agentClusterVar": null,
                "agentVar": null,
                "description": "JIRA Tool",
                "execCommand": "Cancel",
                "execCriteria": "Oldest Active Instance",
                "execId": null,
                "execLookupOption": "Instance Name",
                "execName": null,
                "execWorkflowName": null,
                "execWorkflowNameCond": "Equals",
                "exitCodes": null,
                "limit": null,
                "notificationOption": "Operation Failure",
                "notifyOnEarlyFinish": false,
                "notifyOnLateFinish": false,
                "notifyOnLateStart": false,
                "notifyOnProjectedLate": false,
                "operation": "Launch Task",
                "overrideTriggerDateOffset": null,
                "overrideTriggerDateTime": false,
                "overrideTriggerTime": "00:00",
                "status": "Failed",
                "sysId": "40630ee7064e42ec82cd57c725a91723",
                "task": "JIRA-INC_CREATION-FLOW",
                "taskLimitType": "Unlimited",
                "taskVar": null,
                "trigger": null,
                "triggerVar": null,
                "variables": [
                    {
                        "name": "taskname",
                        "value": "${ops_task_name}"
                    },
                    {
                        "name": "failed_output",
                        "value": "${ops_status_description}"
                    }
                ],
                "variablesUnresolved": false,
                "vertexSelection": false,
                "vertices": [],
                "virtualResource": null,
                "virtualResourceVar": null
            },
            {
                "agent": null,
                "agentCluster": null,
                "agentClusterVar": null,
                "agentVar": null,
                "description": "ServiceNow",
                "execCommand": "Cancel",
                "execCriteria": "Oldest Active Instance",
                "execId": null,
                "execLookupOption": "Instance Name",
                "execName": null,
                "execWorkflowName": null,
                "execWorkflowNameCond": "Equals",
                "exitCodes": null,
                "limit": null,
                "notificationOption": "Operation Failure",
                "notifyOnEarlyFinish": false,
                "notifyOnLateFinish": false,
                "notifyOnLateStart": false,
                "notifyOnProjectedLate": false,
                "operation": "Launch Task",
                "overrideTriggerDateOffset": null,
                "overrideTriggerDateTime": false,
                "overrideTriggerTime": "00:00",
                "status": "Failed",
                "sysId": "5a0d63fe4a264b6ca66a91719a0db60a",
                "task": "Create SNOW Incident",
                "taskLimitType": "Unlimited",
                "taskVar": null,
                "trigger": null,
                "triggerVar": null,
                "variables": [
                    {
                        "name": "failed_task_name",
                        "value": " ${ops_task_name}"
                    },
                    {
                        "name": "sib_task_output",
                        "value": "The last step to run was step 2.step Error:Executed as user: NT SERVICE\\SQLSERVERAGENT. Could not find stored procedure aaaaaaa"
                    }
                ],
                "variablesUnresolved": false,
                "vertexSelection": false,
                "vertices": [],
                "virtualResource": null,
                "virtualResourceVar": null
            },
            {
                "agent": null,
                "agentCluster": null,
                "agentClusterVar": null,
                "agentVar": null,
                "description": "SLACK",
                "execCommand": "Cancel",
                "execCriteria": "Oldest Active Instance",
                "execId": null,
                "execLookupOption": "Instance Name",
                "execName": null,
                "execWorkflowName": null,
                "execWorkflowNameCond": "Equals",
                "exitCodes": null,
                "limit": null,
                "notificationOption": "Operation Failure",
                "notifyOnEarlyFinish": false,
                "notifyOnLateFinish": false,
                "notifyOnLateStart": false,
                "notifyOnProjectedLate": false,
                "operation": "Launch Task",
                "overrideTriggerDateOffset": null,
                "overrideTriggerDateTime": false,
                "overrideTriggerTime": "00:00",
                "status": "Failed",
                "sysId": "898935ff9a1845dead1eec32017cf2bf",
                "task": "FAIL-NOTIF-SLACK",
                "taskLimitType": "Unlimited",
                "taskVar": null,
                "trigger": null,
                "triggerVar": null,
                "variables": [
                    {
                        "name": "task_name",
                        "value": "${ops_task_name}"
                    },
                    {
                        "name": "task_status",
                        "value": "${ops_status}"
                    },
                    {
                        "name": "exec_user",
                        "value": "${ops_execution_user}"
                    },
                    {
                        "name": "job_type",
                        "value": "${ops_task_type}"
                    },
                    {
                        "name": "invoked_by",
                        "value": "${ops_workflow_name}"
                    },
                    {
                        "name": "desc",
                        "value": "${ops_sql_error_msg}"
                    },
                    {
                        "name": "msg",
                        "value": "${ops_sql_error_msg}"
                    }
                ],
                "variablesUnresolved": false,
                "vertexSelection": false,
                "vertices": [],
                "virtualResource": null,
                "virtualResourceVar": null
            }
        ]
    },
    "autoCleanup": false,
    "avgRunTime": 11,
    "avgRunTimeDisplay": "11 Seconds",
    "columnName": null,
    "columnOp": "=",
    "columnValue": null,
    "connection": "MSSQL-MSDB-Connection",
    "connectionVar": null,
    "cpDuration": null,
    "cpDurationUnit": "Minutes",
    "credentials": "MSSQL Hoffenheim",
    "credentialsVar": null,
    "customField1": {
        "label": "Custom Field 1",
        "value": null
    },
    "customField2": {
        "label": "Output Link",
        "value": null
    },
    "efDayConstraint": "None",
    "efDuration": "00:00:00:00",
    "efEnabled": false,
    "efNthAmount": 5,
    "efOffsetDuration": null,
    "efOffsetDurationUnit": "Minutes",
    "efOffsetPercentage": 0,
    "efOffsetType": "Percentage",
    "efTime": "00:00",
    "efType": "Time",
    "enforceVariables": false,
    "exclusiveTasks": [],
    "exclusiveWithSelf": false,
    "executionRestriction": "None",
    "exitCodes": "0",
    "exportReleaseLevel": "7.6.0.0",
    "exportTable": "ops_task_sql",
    "firstRun": "2023-07-19 13:35:18 +0200",
    "holdResources": false,
    "lastRun": "2024-09-10 12:53:44 +0200",
    "lastRunTime": 11,
    "lastRunTimeDisplay": "11 Seconds",
    "lfDayConstraint": "None",
    "lfDuration": "00:00:00:08",
    "lfEnabled": true,
    "lfNthAmount": 5,
    "lfOffsetDuration": null,
    "lfOffsetDurationUnit": "Minutes",
    "lfOffsetPercentage": 0,
    "lfOffsetType": "Percentage",
    "lfTime": "00:00",
    "lfType": "Duration",
    "lockVariables": false,
    "logLevel": "Inherited",
    "lsDayConstraint": "None",
    "lsDuration": "00:00:00:10",
    "lsEnabled": true,
    "lsNthAmount": 5,
    "lsTime": "00:00",
    "lsType": "Duration",
    "maxRows": null,
    "maxRunTime": 11,
    "maxRunTimeDisplay": "11 Seconds",
    "minRunTime": 11,
    "minRunTimeDisplay": "11 Seconds",
    "name": "LOAD-BILL-DATA-2-SET-TO-FAIL",
    "notes": [],
    "opswiseGroups": [],
    "overrideInstanceWait": "No",
    "resPriority": 10,
    "resolveNameImmediately": true,
    "restrictionPeriod": "None",
    "restrictionPeriodAfterDate": null,
    "restrictionPeriodAfterTime": null,
    "restrictionPeriodBeforeDate": null,
    "restrictionPeriodBeforeTime": null,
    "restrictionPeriodDateList": [],
    "resultProcessing": "Skip Result Processing",
    "retainSysIds": true,
    "retryIndefinitely": false,
    "retryInterval": 60,
    "retryMaximum": 0,
    "retrySuppressFailure": false,
    "runCount": 22,
    "runTime": 242,
    "simulation": false,
    "sqlCommand": "exec msdb.dbo.start_monitor_sql_job @jobName='Load-bill-data-dat2', @stepName=' '",
    "startHeld": false,
    "startHeldReason": null,
    "summary": "this job will fail and for rerun from step3 SQL server job , You may update step number as @stepName='step3'",
    "sysId": "4e19f07320b64f86a1812bbee3d3685b",
    "timeZonePref": "-- System Default --",
    "twDelayAmount": null,
    "twDelayDuration": "00:00:00:00",
    "twDelayType": "None",
    "twWaitAmount": null,
    "twWaitDayConstraint": "None",
    "twWaitDuration": "00:00:00:00",
    "twWaitTime": "00:00",
    "twWaitType": "None",
    "twWorkflowOnly": "-- System Default --",
    "userEstimatedDuration": null,
    "variables": [],
    "version": 21,
    "virtualResources": []
}